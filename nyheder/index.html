<!doctype html>
<html lang="da">
  <head>
    <!-- Global header/nav -->
    <script src="/assets/include-header.js?v=7" defer></script>

    <meta charset="utf-8" />
    <title>SEO Nyheder & Google-opdateringer (2025) | Seohub.dk</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description"
          content="Nyheder om SEO: Google Core Updates, Helpful Content, Search Console, Discover og tekniske √¶ndringer. F√∏lg udviklingen og f√• korte, handlingsorienterede noter." />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="canonical" href="https://www.seohub.dk/nyheder/" />

    <!-- Consent + GA4 -->
    <script src="/assets/consent-analytics.js" defer></script>

    <!-- UI -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Structured data (CollectionPage) -->
    <script type="application/ld+json">
    {
      "@context":"https://schema.org",
      "@type":"CollectionPage",
      "name":"SEO Nyheder & Google-opdateringer (2025)",
      "description":"Nyheder om SEO: Google Core Updates, Helpful Content, Search Console, Discover og tekniske √¶ndringer.",
      "publisher":{"@type":"Organization","name":"Seohub.dk","logo":{"@type":"ImageObject","url":"https://www.seohub.dk/favicon.svg"}},
      "mainEntity":{"@type":"ItemList","itemListElement":[]}
    }
    </script>

    <style>
      .tag { @apply inline-flex items-center px-2 py-0.5 rounded-lg text-xs border; }
      .chip { @apply inline-flex items-center gap-1 px-2 py-1 rounded-lg border text-xs; }
    </style>
  </head>

  <body class="min-h-screen bg-gradient-to-b from-neutral-50 to-neutral-100 text-neutral-900">

    <!-- Hero -->
    <section class="py-10 md:py-14">
      <div class="max-w-6xl mx-auto px-4">
        <div class="rounded-2xl p-12 md:p-16 text-white shadow-lg"
             style="background:linear-gradient(135deg,#6366f1 0%,#3b82f6 50%,#06b6d4 100%)">
          <p class="text-xs uppercase tracking-wider text-blue-100/90 mb-2">Nyheder</p>
          <h1 class="text-4xl md:text-5xl font-extrabold mb-3 leading-tight">
            SEO Nyheder & Google-opdateringer (2025)
          </h1>
          <p class="text-blue-100 text-lg md:text-xl max-w-3xl">
            Korte, handlingsorienterede updates: Core Updates, Helpful Content, GA4/GSC √¶ndringer, Discover og tekniske nyheder.
          </p>
        </div>
      </div>
    </section>

    <!-- Layout -->
    <main class="max-w-6xl mx-auto px-4 pb-12">
      <div class="grid grid-cols-1 lg:grid-cols-12 gap-8">

        <!-- Content -->
        <section class="lg:col-span-8 space-y-6">

          <!-- Filterlinje -->
          <div class="bg-white/70 backdrop-blur rounded-2xl shadow p-4 md:p-5 border border-neutral-100">
            <div class="flex flex-col md:flex-row md:items-center gap-3">
              <div class="flex-1">
                <label for="q" class="block text-sm font-medium text-neutral-700 mb-1">S√∏g i nyheder</label>
                <div class="relative">
                  <input id="q" type="search" placeholder="Skriv et ord, fx 'core update'‚Ä¶"
                         class="w-full pr-10 px-4 py-2 rounded-xl border border-neutral-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none">
                  <button type="button" id="clearQ"
                          class="absolute right-2 top-1/2 -translate-y-1/2 px-2 text-neutral-500 hover:text-neutral-800 hidden">‚úï</button>
                </div>
              </div>

              <div class="grid grid-cols-2 md:grid-cols-3 gap-2 md:ml-2">
                <button data-tag="google" class="chip">Google</button>
                <button data-tag="core update" class="chip">Core Update</button>
                <button data-tag="gsc" class="chip">GSC</button>
                <button data-tag="ga4" class="chip">GA4</button>
                <button data-tag="discover" class="chip">Discover</button>
                <button data-tag="teknisk" class="chip">Teknisk</button>
              </div>
            </div>
            <div id="meta" class="mt-2 text-xs text-neutral-500"></div>
          </div>

          <!-- Liste -->
          <div id="newsList" class="space-y-4"></div>

          <!-- Pagination (client-side) -->
          <div class="flex items-center justify-between pt-2">
            <button id="prevBtn" class="px-3 py-1.5 rounded-lg border text-sm disabled:opacity-40">‚Üê Forrige</button>
            <div id="pageMeta" class="text-sm text-neutral-600"></div>
            <button id="nextBtn" class="px-3 py-1.5 rounded-lg border text-sm disabled:opacity-40">N√¶ste ‚Üí</button>
          </div>

          <!-- Bund-CTA -->
          <section class="bg-white/70 backdrop-blur rounded-2xl shadow p-6 md:p-8 border border-neutral-100">
            <h2 class="text-xl font-semibold mb-2">Hold dig skarp mellem opdateringerne</h2>
            <p>Brug vores gratis v√¶rkt√∏jer ‚Äì og f√• ‚Äúquick wins‚Äù, selv n√•r algoritmen skifter retning:</p>
            <div class="flex flex-wrap gap-3 mt-3">
              <a href="/serp-preview.html" class="px-4 py-2 rounded-2xl text-white bg-blue-600 hover:bg-blue-700">SERP &amp; Meta</a>
              <a href="/robots-generator.html" class="px-4 py-2 rounded-2xl border bg-white hover:bg-neutral-50">Robots.txt</a>
              <a href="/sitemap-generator.html" class="px-4 py-2 rounded-2xl border bg-white hover:bg-neutral-50">Sitemap.xml</a>
              <a href="/internal-link-builder.html" class="px-4 py-2 rounded-2xl border bg-white hover:bg-neutral-50">Intern linkbuilder</a>
            </div>
          </section>

          <!-- Hosting CTA -->
          <section class="mt-2 rounded-2xl p-6 shadow bg-gradient-to-r from-indigo-500 via-blue-600 to-sky-500 text-white">
            <div class="text-xs uppercase tracking-wide mb-2 opacity-90">Annonce ¬∑ Hosting</div>
            <h3 class="text-lg md:text-xl font-bold mb-2">Mangler du dom√¶ne og webhotel?</h3>
            <p class="text-blue-100 mb-4">
              Kom hurtigt online med <strong>Simply.com</strong> ‚Äì dansk support og nem ops√¶tning.
            </p>
            <a href="https://go.adt291.com/t/t?a=1676137662&as=1999446175&t=2&tk=1"
               target="_blank" rel="sponsored noopener nofollow"
               class="inline-flex items-center gap-2 bg-white text-neutral-900 px-4 py-2 rounded-xl font-semibold hover:shadow-lg transition">
              K√∏b dom√¶ne &amp; hosting hos Simply.com
              <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none"
                   viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"
                   stroke-linecap="round" stroke-linejoin="round">
                <path d="M7 17L17 7" /><path d="M7 7h10v10" />
              </svg>
            </a>
          </section>
        </section>

        <!-- Sidebar -->
        <aside class="lg:col-span-4">
          <div class="lg:sticky lg:top-24 space-y-4">

            <!-- Seneste noter (autofill med samme JSON, top 5) -->
            <div class="bg-white/70 backdrop-blur rounded-2xl shadow p-5 border border-neutral-100">
              <h2 class="text-sm font-semibold uppercase tracking-wide text-neutral-600 mb-3">Seneste noter</h2>
              <div id="recentList" class="space-y-2"></div>
            </div>

            <!-- Diskret sponsor -->
            <div class="rounded-2xl p-5 text-white shadow"
                 style="background:linear-gradient(135deg,#0ea5e9 0%,#6366f1 60%,#8b5cf6 100%)">
              <div class="text-[11px] uppercase tracking-wide mb-1 opacity-90">Sponsoreret</div>
              <div class="font-semibold">Morningscore ‚Äì SEO gjort simpelt</div>
              <p class="text-blue-100 text-xs mt-1 mb-2">Track s√∏geord, opgaver og ROI ‚Äì perfekt til nyhedsarbejde.</p>
              <a href="https://morningscore.io/?via=seohub" target="_blank" rel="sponsored noopener nofollow"
                 class="inline-block bg-white text-neutral-900 px-3 py-1.5 rounded-lg text-sm font-medium hover:shadow">
                Pr√∏v gratis
              </a>
            </div>

          </div>
        </aside>

      </div>
    </main>

    <!-- Global footer -->
    <script src="/assets/include-footer.js?v=2" defer></script>

    <!-- Client: hent /nyheder/posts.json og render -->
    <script>
      (function () {
        const LIST_EL   = document.getElementById('newsList');
        const RECENT_EL = document.getElementById('recentList');
        const META_EL   = document.getElementById('meta');
        const PAGE_EL   = document.getElementById('pageMeta');
        const qInput    = document.getElementById('q');
        const clearQ    = document.getElementById('clearQ');
        const tagBtns   = Array.from(document.querySelectorAll('[data-tag]'));
        const prevBtn   = document.getElementById('prevBtn');
        const nextBtn   = document.getElementById('nextBtn');

        let ALL = [];        // alle nyheder
        let ACTIVE = [];     // filtreret
        let page = 1;
        const perPage = 8;
        let activeTags = new Set();

        function fmtDate(iso) {
          const d = new Date(iso);
          return d.toLocaleDateString('da-DK', { year:'numeric', month:'short', day:'2-digit' });
        }

        function renderList() {
          const start = (page - 1) * perPage;
          const slice = ACTIVE.slice(start, start + perPage);
          LIST_EL.innerHTML = slice.map(post => Card(post)).join('') || EmptyState();

          const totalPages = Math.max(1, Math.ceil(ACTIVE.length / perPage));
          PAGE_EL.textContent = `Side ${page} af ${totalPages}`;
          prevBtn.disabled = page <= 1;
          nextBtn.disabled = page >= totalPages;

          META_EL.textContent = `${ACTIVE.length} indl√¶g${ACTIVE.length === 1 ? '' : ''} ¬∑ ${activeTags.size ? 'Filtre: ' + Array.from(activeTags).join(', ') : 'Alle'}`;

          // Seneste (sidebar)
          const recent = ALL.slice(0, 5);
          RECENT_EL.innerHTML = recent.map(r => `<a href="${r.url}" class="block hover:underline">${r.title}</a>`).join('');
        }

        function Card(p) {
          const tags = (p.tags || []).map(t => `<span class="tag">${t}</span>`).join(' ');
          return `
            <article class="bg-white/70 backdrop-blur rounded-2xl shadow p-5 border border-neutral-100">
              <div class="flex items-center justify-between gap-3">
                <a href="${p.url}" class="text-lg md:text-xl font-semibold hover:underline">${p.title}</a>
                <span class="text-xs text-neutral-500 whitespace-nowrap">${fmtDate(p.date)}</span>
              </div>
              <p class="mt-2 text-neutral-700">${p.excerpt || ''}</p>
              <div class="mt-3 flex flex-wrap gap-2">${tags}</div>
            </article>
          `;
        }

        function EmptyState() {
          return `
            <div class="text-center py-16 bg-white/70 backdrop-blur rounded-2xl border border-neutral-100">
              <div class="text-2xl">ü§î</div>
              <p class="mt-2 text-neutral-700">Ingen nyheder matcher din s√∏gning.</p>
            </div>
          `;
        }

        function applyFilters() {
          const q = (qInput.value || '').trim().toLowerCase();
          ACTIVE = ALL.filter(p => {
            const text = [p.title, p.excerpt, (p.tags||[]).join(' ')].join(' ').toLowerCase();
            const hitQ = !q || text.includes(q);
            const hitTags = !activeTags.size || (p.tags||[]).some(t => activeTags.has(t.toLowerCase()));
            return hitQ && hitTags;
          });
          page = 1;
          renderList();
        }

        // UI handlers
        qInput.addEventListener('input', () => {
          clearQ.classList.toggle('hidden', qInput.value.length === 0);
          applyFilters();
        });
        clearQ.addEventListener('click', () => {
          qInput.value = ''; clearQ.classList.add('hidden'); applyFilters(); qInput.focus();
        });

        tagBtns.forEach(btn => {
          btn.addEventListener('click', () => {
            const t = (btn.dataset.tag || '').toLowerCase();
            if (activeTags.has(t)) {
              activeTags.delete(t);
              btn.classList.remove('bg-blue-50','border-blue-200','text-blue-700');
            } else {
              activeTags.add(t);
              btn.classList.add('bg-blue-50','border-blue-200','text-blue-700');
            }
            applyFilters();
          });
        });

        prevBtn.addEventListener('click', () => { if (page > 1) { page--; renderList(); } });
        nextBtn.addEventListener('click', () => {
          const totalPages = Math.max(1, Math.ceil(ACTIVE.length / perPage));
          if (page < totalPages) { page++; renderList(); }
        });

        // Hent data
        fetch('/nyheder/posts.json', { cache: 'no-store' })
          .then(r => r.ok ? r.json() : Promise.reject(r.status))
          .then(json => {
            // Forventet format: [{title, url, date, excerpt, tags:[]}, ...]
            ALL = (json || []).sort((a,b) => new Date(b.date) - new Date(a.date));
            ACTIVE = ALL.slice();
            renderList();
          })
          .catch(() => {
            // Fallback-indhold (vis noget s√• siden ikke ser tom ud)
            ALL = [{
              title: "Velkommen til nyhedssektionen",
              url: "/nyheder/velkommen.html",
              date: "2025-08-26",
              excerpt: "Her samler vi korte noter om Google opdateringer, GA4/GSC-√¶ndringer og andre SEO-nyheder.",
              tags: ["google","teknisk"]
            }];
            ACTIVE = ALL.slice();
            renderList();
          });
      })();
    </script>
  </body>
</html>
