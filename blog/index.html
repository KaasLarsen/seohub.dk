<!doctype html>
<html lang="da">
  <head>
    <meta charset="utf-8" />
    <title>Blog – Alle indlæg | Seohub.dk</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Seohub Blog: guides, tjeklister og værktøjer til SEO – on-page, teknisk SEO, linkbuilding, keyword research og mere." />
    <link rel="icon" href="/favicon.svg" type="image/svg+xml">
    <link rel="canonical" href="https://www.seohub.dk/blog/" />

    <!-- Header (fælles navigation) -->
    <script src="/assets/include-header.js?v=6" defer></script>

    <!-- Cookie consent + Analytics -->
    <script src="/assets/consent-analytics.js" defer></script>

    <!-- Tailwind (UI) -->
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="min-h-screen bg-gradient-to-b from-neutral-50 to-neutral-100 text-neutral-900">

    <!-- Hero -->
    <section class="py-10 md:py-14">
      <div class="max-w-6xl mx-auto px-4">
        <div class="rounded-2xl p-12 md:p-16 text-white shadow-lg"
             style="background:linear-gradient(135deg,#6366f1 0%,#3b82f6 50%,#06b6d4 100%)">
          <p class="text-xs uppercase tracking-wider text-blue-100/90 mb-2">Blog</p>
          <h1 class="text-4xl md:text-5xl font-extrabold mb-3 leading-tight">Alle indlæg</h1>
          <p class="text-blue-100 text-lg md:text-xl max-w-3xl">
            Guides, tjeklister og værktøjer til hverdags-SEO. Ingen fluff.
          </p>
        </div>
      </div>
    </section>

    <!-- Content -->
    <main class="max-w-6xl mx-auto px-4 pb-12">
      <section class="bg-white/70 backdrop-blur rounded-2xl shadow p-6 md:p-8 border border-neutral-100">
        <div class="flex items-end justify-between mb-4">
          <h2 class="text-xl md:text-2xl font-semibold">Indlæg</h2>
          <div class="text-sm text-neutral-600">
            <span id="count">0 indlæg</span>
          </div>
        </div>

        <!-- Søg (vises kun når posts.json hentes OK) -->
        <div id="searchWrap" class="hidden mb-5">
          <div class="flex items-center gap-2">
            <input id="searchInput" type="search"
                   placeholder="Søg i blogindlæg (titel, uddrag, tags)…"
                   className="w-full rounded-2xl border px-4 py-3 focus:outline-none focus:ring focus:ring-indigo-200">
            <button id="searchClear"
                    class="px-3 py-2 rounded-xl text-sm border bg-neutral-50 hover:bg-neutral-100 hidden">
              Ryd
            </button>
          </div>
          <p id="searchHint" class="mt-2 text-xs text-neutral-500">
            Tip: Prøv “linkbuilding”, “core web vitals” eller “lokal seo”.
          </p>
        </div>

        <!-- Dynamisk liste (hidden indtil posts.json er hentet) -->
        <div id="list" class="hidden grid md:grid-cols-2 lg:grid-cols-3 gap-4"></div>

        <!-- Fallback-liste (vises hvis posts.json fejler) -->
        <div id="fallback-list" class="grid md:grid-cols-2 lg:grid-cols-3 gap-4">
          <!-- Tilpas/udvid statisk fallback som du vil -->
          <a href="/blog/seo-for-begyndere-2025.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">SEO for begyndere – Den komplette guide 2025</div>
            <div class="text-sm text-neutral-600 mt-1">Trin-for-trin guide til on-page, teknisk SEO, linkbuilding, keyword research og måling.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-16</div>
          </a>

          <a href="/blog/seo-titler-der-ranker.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">SEO-titler der ranker: længde, vinkler og CTR-hacks</div>
            <div class="text-sm text-neutral-600 mt-1">Sådan skriver du titler Google elsker – og som får klik.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-13</div>
          </a>

          <a href="/blog/sitemap-fejl-fixes.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">De 7 mest almindelige sitemap-fejl (og hurtige fixes)</div>
            <div class="text-sm text-neutral-600 mt-1">Tjeklisten, der redder dine URL’er fra crawl-problemer.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-15</div>
          </a>

          <a href="/blog/intern-linkbuilding-strategi.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">Avanceret intern linkbuilding strategi</div>
            <div class="text-sm text-neutral-600 mt-1">Fordel linkværdi og styrk relevans.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-12</div>
          </a>

          <a href="/blog/core-web-vitals-2025.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">Core Web Vitals i 2025 – sådan klarer du kravene</div>
            <div class="text-sm text-neutral-600 mt-1">Hurtige, konkrete performanceforbedringer.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-11</div>
          </a>

          <a href="/blog/lokal-seo-danmark-guide.html" class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">Lokal SEO i Danmark – den fulde guide</div>
            <div class="text-sm text-neutral-600 mt-1">Maps, NAP, anmeldelser og lokale landingssider.</div>
            <div class="mt-3 text-xs text-neutral-500">2025-08-10</div>
          </a>

          <!-- smid gerne flere fallback-links ind her, hvis du vil -->
        </div>

        <!-- fejlbesked (skjult som udgangspunkt) -->
        <p id="fatal" class="hidden mt-4 text-sm text-amber-600">
          Kunne ikke hente posts.json – viser statisk liste.
        </p>
      </section>
    </main>

    <!-- Footer -->
    <script src="/assets/include-footer.js?v=2" defer></script>

    <!-- Logic (dynamik + søgning) -->
    <script>
    (function(){
      const $fallback = document.getElementById("fallback-list");
      const $list     = document.getElementById("list");
      const $count    = document.getElementById("count");
      const $fatal    = document.getElementById("fatal");

      // Søg UI
      const $searchWrap = document.getElementById("searchWrap");
      const $q          = document.getElementById("searchInput");
      const $clear      = document.getElementById("searchClear");

      let ALL = [];   // alle posts
      let query = "";

      function esc(s){return String(s).replace(/[&<>"']/g,m=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#039;'}[m]));}

      function render(){
        const q = query.trim().toLowerCase();
        const arr = !q ? ALL : ALL.filter(p=>{
          const txt = \`\${p.title||""} \${p.excerpt||""} \${(p.tags||[]).join(" ")}\`.toLowerCase();
          return txt.includes(q);
        });

        if (!arr.length) {
          $list.innerHTML = '<p class="text-sm text-neutral-600">Ingen indlæg matcher søgningen.</p>';
          $count.textContent = \`\${ALL.length} indlæg · 0 match\`;
          return;
        }

        $list.innerHTML = arr.map(p=>{
          const tags = Array.isArray(p.tags) ? p.tags.slice(0,6).map(t=>\`
            <button data-tag="\${esc(String(t))}"
                    class="text-xs px-2 py-1 rounded-full bg-neutral-100 hover:bg-neutral-200">\${esc(String(t))}</button>\`).join(" ") : "";
          return \`
          <a href="/blog/\${esc(p.slug)}.html"
             class="block rounded-2xl border bg-white p-5 hover:shadow transition">
            <div class="font-semibold">\${esc(p.title||"Uden titel")}</div>
            \${p.excerpt ? \`<div class="text-sm text-neutral-600 mt-1">\${esc(p.excerpt)}</div>\` : ""}
            <div class="mt-3 flex items-center justify-between">
              <div class="text-xs text-neutral-500">\${p.date ? esc(p.date) : ""}</div>
              \${tags ? \`<div class="flex flex-wrap gap-2">\${tags}</div>\` : ""}
            </div>
          </a>\`;
        }).join("");

        // klik på tag => filter
        $list.querySelectorAll('button[data-tag]').forEach(btn=>{
          btn.addEventListener('click', (e)=>{
            e.preventDefault();
            const t = btn.getAttribute('data-tag') || "";
            query = t;
            if ($q) $q.value = t;
            if ($clear) $clear.classList.toggle("hidden", !query);
            render();
          });
        });

        $count.textContent = \`\${ALL.length} indlæg\${q ? \` · \${arr.length} match\` : ""}\`;
      }

      // Hent posts.json robust
      const url = \`/blog/posts.json?v=\${Date.now()}\`;
      fetch(url, { cache: "no-store" })
        .then(r => { if(!r.ok) throw new Error("HTTP "+r.status); return r.text(); })
        .then(txt => {
          if (!txt || txt.trim().startsWith("<")) throw new Error("Fik HTML (ikke JSON)");
          const data = JSON.parse(txt);
          if (!Array.isArray(data)) throw new Error("JSON er ikke et array");

          ALL = data.slice().sort((a,b)=> String(b.date||"").localeCompare(String(a.date||"")));

          // skift til dynamik
          $fallback.classList.add("hidden");
          $list.classList.remove("hidden");
          $searchWrap.classList.remove("hidden");

          render();
        })
        .catch(e => {
          console.warn("[blog] posts.json fallback:", e && e.message ? e.message : e);
          $fatal.classList.remove("hidden");
          // lader fallback stå, skjul søg
          $searchWrap.classList.add("hidden");
        });

      // Søg UI events
      if ($q) {
        $q.addEventListener("input", ()=>{
          query = $q.value;
          $clear.classList.toggle("hidden", !query.trim());
          if (ALL.length) render();
        });
      }
      if ($clear) {
        $clear.addEventListener("click", ()=>{
          $q.value = ""; query = "";
          $clear.classList.add("hidden");
          if (ALL.length) render();
        });
      }
    })();
    </script>
  </body>
</html>
